<script setup lang="ts">
import { ListBulletIcon, PencilSquareIcon } from "@heroicons/vue/24/solid";

// ‡∏Å‡∏≥‡∏´‡∏ô‡∏î‡∏ä‡∏ô‡∏¥‡∏î‡∏Ç‡∏≠‡∏á‡∏û‡∏£‡πá‡∏≠‡∏û‡∏ó‡∏µ‡πà component ‡∏ô‡∏µ‡πâ ‚Äú‡∏£‡∏±‡∏ö‡πÄ‡∏Ç‡πâ‡∏≤‡∏°‡∏≤‚Äù ‡∏à‡∏≤‡∏Å‡∏û‡∏≤‡πÄ‡∏£‡∏ô‡∏ï‡πå
const props = defineProps<{
  active: boolean;
  pin?: boolean
}>();

// ‡∏õ‡∏£‡∏∞‡∏Å‡∏≤‡∏®‡∏≠‡∏µ‡πÄ‡∏ß‡∏ô‡∏ï‡πå‡∏ó‡∏µ‡πà component ‡∏ô‡∏µ‡πâ ‚Äú‡∏¢‡∏¥‡∏á‡∏≠‡∏≠‡∏Å‡πÑ‡∏õ‚Äù ‡πÉ‡∏´‡πâ‡∏û‡∏≤‡πÄ‡∏£‡∏ô‡∏ï‡πå‡∏£‡∏±‡∏ö
const emit = defineEmits<{
  "update:active": [boolean];
  view: [];
  edit: [];
  delete: [];
  pin: [];
}>();
</script>

<template>
  <!-- ‡∏Å‡∏•‡πà‡∏≠‡∏á‡∏´‡∏•‡∏±‡∏Å ‡∏à‡∏±‡∏î‡πÄ‡∏£‡∏µ‡∏¢‡∏á‡πÅ‡∏ô‡∏ß‡∏ï‡∏±‡πâ‡∏á + ‡∏ä‡∏¥‡∏î‡∏Ç‡∏ß‡∏≤ ‡πÅ‡∏•‡∏∞‡πÄ‡∏ß‡πâ‡∏ô‡∏ä‡πà‡∏≠‡∏á‡∏ß‡πà‡∏≤‡∏á‡πÅ‡∏ô‡∏ß‡∏ï‡∏±‡πâ‡∏á 8px (gap-2) flex flex-col items-end gap-2 -->
  <div class="flex flex-col items-end gap-2">
    <!-- ‡πÅ‡∏ñ‡∏ß‡∏ö‡∏ô: Pin + Toggle + ‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞ -->
    <div class="flex items-center gap-2">
      <!-- ‡∏õ‡∏±‡∏Å‡∏´‡∏°‡∏∏‡∏î : Pin -->
      <!-- :aria-pressed ‡πÉ‡∏ä‡πâ‡∏ö‡∏≠‡∏Å ‚Äú‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞‡∏Å‡∏î‡∏Ñ‡πâ‡∏≤‡∏á/‡πÄ‡∏õ‡∏¥‡∏î-‡∏õ‡∏¥‡∏î‚Äù ‡∏Ç‡∏≠‡∏á‡∏õ‡∏∏‡πà‡∏°‡πÅ‡∏ö‡∏ö toggle button ‡πÉ‡∏´‡πâ‡∏Å‡∏±‡∏ö‡πÇ‡∏õ‡∏£‡πÅ‡∏Å‡∏£‡∏°‡∏ä‡πà‡∏ß‡∏¢‡∏≠‡πà‡∏≤‡∏ô‡∏´‡∏ô‡πâ‡∏≤‡∏à‡∏≠ (screen reader) -->
      <!-- title="‡∏õ‡∏±‡∏Å‡∏´‡∏°‡∏∏‡∏î" ‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏° tooltip ‡∏ó‡∏µ‡πà‡∏à‡∏∞‡πÅ‡∏™‡∏î‡∏á‡πÄ‡∏ß‡∏•‡∏≤‡πÄ‡∏≠‡∏≤‡πÄ‡∏°‡∏≤‡∏™‡πå‡∏ä‡∏µ‡πâ‡∏õ‡∏∏‡πà‡∏° -->
      <!-- @click="$emit('pin')" ‡πÄ‡∏°‡∏∑‡πà‡∏≠‡∏Ñ‡∏•‡∏¥‡∏Å‡∏õ‡∏∏‡πà‡∏° ‡∏à‡∏∞ ‡∏™‡πà‡∏á‡∏≠‡∏µ‡πÄ‡∏ß‡∏ô‡∏ï‡πå‡∏ä‡∏∑‡πà‡∏≠ pin ‡∏≠‡∏≠‡∏Å‡πÑ‡∏õ‡πÉ‡∏´‡πâ‡∏û‡∏≤‡πÄ‡∏£‡∏ô‡∏ï‡πå  ‡∏ï‡∏±‡∏ß‡∏õ‡∏∏‡πà‡∏°‡πÄ‡∏≠‡∏á‡πÑ‡∏°‡πà‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞; ‡πÅ‡∏Ñ‡πà‡πÅ‡∏à‡πâ‡∏á‡∏û‡∏≤‡πÄ‡∏£‡∏ô‡∏ï‡πå‡∏ß‡πà‡∏≤ ‚Äú‡∏ú‡∏π‡πâ‡πÉ‡∏ä‡πâ‡∏Å‡∏î‡∏õ‡∏±‡∏Å‡∏´‡∏°‡∏∏‡∏î‡πÅ‡∏•‡πâ‡∏ß‡∏ô‡∏∞‚Äù ‡∏û‡∏≤‡πÄ‡∏£‡∏ô‡∏ï‡πå‡∏ï‡πâ‡∏≠‡∏á‡πÄ‡∏õ‡πá‡∏ô‡∏Ñ‡∏ô‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡∏ï‡πà‡∏≠ ‡πÄ‡∏ä‡πà‡∏ô toggle ‡∏Ñ‡πà‡∏≤, call API ‡πÅ‡∏•‡πâ‡∏ß‡∏≠‡∏±‡∏õ‡πÄ‡∏î‡∏ï prop pin-->
      <button :class="props.pin
          ? 'p-2 rounded bg-blue-500 text-white hover:bg-blue-600' // ‡∏ñ‡πâ‡∏≤‡∏õ‡∏±‡∏Å‡∏´‡∏°‡∏∏‡∏î‡πÅ‡∏•‡πâ‡∏ß ‚Üí ‡∏™‡∏µ‡∏ü‡πâ‡∏≤‡πÄ‡∏Ç‡πâ‡∏° ‡∏ï‡∏±‡∏ß‡∏≠‡∏±‡∏Å‡∏©‡∏£‡∏Ç‡∏≤‡∏ß
          : 'p-2 rounded bg-blue-100 text-blue-600 hover:bg-blue-200' // ‡∏ñ‡πâ‡∏≤‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡∏õ‡∏±‡∏Å ‚Üí ‡∏ü‡πâ‡∏≤‡∏≠‡πà‡∏≠‡∏ô ‡∏ï‡∏±‡∏ß‡∏≠‡∏±‡∏Å‡∏©‡∏£‡∏ü‡πâ‡∏≤
        " :aria-pressed="props.pin ? 'true' : 'false'" title="‡∏õ‡∏±‡∏Å‡∏´‡∏°‡∏∏‡∏î" @click="$emit('pin')">
        üìå
      </button>

      <!-- Toggle + ‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞ -->
      <label class="flex items-center cursor-pointer gap-2">
        <!-- Toggle -->
        <input type="checkbox" class="hidden" :checked="props.active" @change="$emit('update:active', !props.active)" />
        <!-- capsale -->
        <div class="w-10 h-5 rounded-full relative transition-colors"
          :class="props.active ? 'bg-blue-500' : 'bg-gray-300'">
          <!-- ‡∏à‡∏∏‡∏î‡∏Ç‡∏≤‡∏ß‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡πÄ‡∏•‡∏∑‡πà‡∏≠‡∏ô -->
          <div class="absolute top-0.5 left-0.5 w-4 h-4 bg-white rounded-full shadow transition-transform"
            :class="{ 'translate-x-5': props.active }" />
        </div>
        <!-- ‡πÅ‡∏™‡∏î‡∏á‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏° ‡πÄ‡∏ú‡∏¢‡πÅ‡∏û‡∏£‡πà/‡∏ã‡πà‡∏≠‡∏ô -->
        <span class="text-sm font-medium" :class="props.active ? 'text-green-600' : 'text-gray-500'">
          {{ props.active ? "‡πÄ‡∏ú‡∏¢‡πÅ‡∏û‡∏£‡πà" : "‡∏ã‡πà‡∏≠‡∏ô" }}
        </span>
      </label>
    </div>

    <!-- ‡πÅ‡∏ñ‡∏ß‡∏•‡πà‡∏≤‡∏á: vuew / Edit / Delete -->
    <div class="flex items-center gap-2">
      <!-- ‡∏õ‡πà‡∏∏‡∏° view : ListBulletIcon -->
      <button class="p-2 bg-green-100 text-green-600 rounded hover:bg-green-200" title="‡∏î‡∏π‡∏£‡∏≤‡∏¢‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î"
        @click="$emit('view')">
        <ListBulletIcon class="w-4 h-4" />
      </button>
      <!-- ‡∏õ‡πà‡∏∏‡∏° edit : PencilSquareIcon -->
      <button class="p-2 bg-yellow-100 text-yellow-600 rounded hover:bg-yellow-200" title="‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç"
        @click="$emit('edit')">
        <PencilSquareIcon class="w-4 h-4" />
      </button>
      <!-- ‡∏õ‡πà‡∏∏‡∏° delete : ‡πÅ‡∏™‡∏î‡∏á‡πÄ‡∏™‡∏°‡∏≠ ‡πÅ‡∏ï‡πà‡∏õ‡∏¥‡∏î‡∏Å‡∏≤‡∏£‡∏Å‡∏î‡πÄ‡∏°‡∏∑‡πà‡∏≠‡∏¢‡∏±‡∏á‡πÄ‡∏ú‡∏¢‡πÅ‡∏û‡∏£‡πà -->
      <button :disabled="props.active" class="p-2 rounded transition-colors" :class="props.active
          ? 'bg-gray-100 text-gray-400 cursor-not-allowed'
          : 'bg-red-100 text-red-600 hover:bg-red-200'
        " :title="props.active ? '‡∏ã‡πà‡∏≠‡∏ô‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏•‡∏ö' : '‡∏•‡∏ö'" @click="!props.active && $emit('delete')">
        üóë
      </button>
    </div>
  </div>
</template>
